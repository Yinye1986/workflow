# 安装本体

```shell
sudo pacman -S mariadb
```

# 初始化

```shell
mariadb-install-db --user=mysql --basedir=/usr --datadir=/var/lib/mysql
```

# 安全配置

```shell
mariadb-secure-installation
# 输入当前密码(注意和操作系统用户区分)
Enter current password for root (enter for none): mariadb
# 不强制使用unix_socket(因为dbeaver不支持; 推荐创建用户和密码, 使用TCP/IP连接), 但不管怎样, socket都是开启的
Switch to unix_socket authentication [Y/n] n
# 修改密码
Change the root password? [Y/n]
# 删除匿名用户
Remove anonymous users? [Y/n] Y
# 禁止远程登陆
Disallow root login remotely? [Y/n] Y
# 删除test数据库
Remove test database and access to it? [Y/n] Y
# 应用配置
Reload privilege tables now? [Y/n] Y
```

这个脚本创建的 `root@localhost` 同时支持 `mysql_native_password` 和 `unix_socket` 验证



# 启动

```shell
sudo systemctl start mariadb
```

# 进入cli

```shell
mariadb opts args
```

| opts          | long opts            | default                                  |
|---------------|----------------------|------------------------------------------|
| -u [username] | --user=[name]        | unix username on unix OR ODBC on windows |
| -p [passwd]   | --password=[passwd]  |                                          |
| -h [hostname] | --host=hostname      | localhost                                |
| -P [port]     | --port=[port]        | 3306                                     |

## 连接方式

- tcp/ip
- unix socket
- named pipe
